what is SQL ?
sql stands for structured query language
sql is a language
sql is used to make a database and table structured 
sql is a case insentive language 
sql is used to create a table strucrured and used sql command or query. 



types of SQL command or query ?

      a)DDL (data definition language)
      b)DML (data manupulation language)
      a)DQL (data query language)
      a)TCL (transactional query language)


       a)DDL : ddl stands for data definition language its used to create database and table structured.

                  ex: a) create
                      b) alter 
                      d) drop
                      e) rename
                      f) change
                      g) truncate


        1)how to create a database ?

              syntax : create database databasename;
                   examples:create database flipkart_db;

        2)how to create a table ?

        chart of creating table 


columnname    datatype(size)          keyconstraints                          
id            int(defaultsize(11))    primary key(auto_increments)
name          char,varchar(0-255)     not null
mobile        bigint(defaultsize(20))    "
date          date 
datetime      datetime 
message       text
photo         varchar(0-255),blob 
salary        int,float


             syntax :  

             create table tablename (

                columnname datatype(size) pk auto_increment,
                .
                .
                .
                columnname datatype(size)
             );


examples : 

create table tbl_customer
(
customer_id int PRIMARY key AUTO_INCREMENT,
customername varchar(155),
firstname varchar(255),
email varchar(255),
password varchar(255),
mobile bigint,
address text,
adharnumber bigint    
)                            



create table tbl_country
(
country_id int PRIMARY key AUTO_INCREMENT,
countryname varchar(155)
)

b)alter :alter is used to add,update or modify a column after create table. 

           a)alter table tbl_customer add photo varchar(255);
           b)alter table tbl_customer add picode int;
           c)alter table tbl_customer add lastname varchar(255) after firstname;
           d)alter table tbl_customer change photo upload_photo varchar(255);

c)change :alter table tbl_customer change photo upload_photo varchar(255);

d)rename : rename is used to rename of tables 

     rename table tbl_country to flip_country;
     rename table tbl_customer to flip_customer;
e)drop :drop is used to delete database structure and table structures and its data also.

   note: after drop we never rollback data 

             a) drop database databasename;
                   drop DATABASE flipkart_db;
             b) drop table tablename
                   drop DATABASE flip_country; 
       
        
g)truncate:truncate is used to delete or empty data from table but structure remain same.

            ex:TRUNCATE table flip_country;

            Note : after truncate table we never rollback data 


       b)DML : dml stands for data manupulation language its used to manupulate data inside of tables .

                  ex: a) insert
                      b) update 
                      c) delete 


             a) insert data : 

             insert into flip_country(countryname)values('india');
             or

             insert into flip_country(countryname)values('china'),('usa'),('uk');

             or 
             insert into flip_country values('null','srilanka'),('null','australiya'),('null','aouth africa');   


            b)update : update flip_country set countryname='south africa' where country_id=7;

             or

             update flip_country set countryname='south africa' where countryname='aouth_africa';


             c)delete : 

                       a)delete from flip_country;
                       b)delete from flip_country where country_id=1;
                       c)delete from flip_country where countryname='srilanka';
                       d)delete from flip_country where countryname in ('china','australiya'); 
                       e)delete from flip_country where country_id in (2,7);

              note : after delete we can rollback our data


       c)DQL : dql stands for data query language its used to select data from  tables or fetch data from tables.

                  ex: select

                   a)select * from flip_country;
                   b)select countryname from flip_country;
                   c)select * from flip_country where country_id=1;
                   d)select * from flip_country where countryname='india';
                   e)select * from flip_country where countryname='india' or countryname='usa';

                    f)select * from flip_country where countryname in ('india','uk','kullu');

                     g)select * from flip_country where country_id BETWEEN 2 and 15;         
                                                      

                     h)select * from flip_country where country_id limit 0,15; 
                     
                     i)select * from flip_country where countryname like 'i%';

                     j) select * from flip_country where countryname like '%a';

                      k)select * from flip_country where countryname like '%a%';


                     diference netween order by and group by :

                      order by :order by is used to filter data from table in ASC or DESC order.

                       select * from flip_country order by countryname;
                       select * from flip_country order by countryname asc;
                       select * from flip_country order by countryname desc; 
 

                       group by : group by is used to filter or select group of columns data.

                        select sum(salary),department FROM flip_employee  group by department;

                        

                        alias : 

                           select sum(salary) as sumofsalary,department FROM flip_employee  group by department;
                       

       c)TCL : tcl stands for transactional  query language its used to save data adter delete or rollback data after delete.



                  ex: a) commit
                      b) rollback 
                      

                      commit : commit is used to  save data after delete any rows.

              ex: start TRANSACTION;
delete from flip_country where countryname='Egypt';
commit;                      


               rollback: 
                start TRANSACTION;
select * from flip_country where countryname='Egypt';
rollback;

                 Note : mysql structured not supported rollback

                           
                       

        SQL key constraints :  sql key constraints are used to porovides a limit on tables.

                    a) primary key (pk)
                    b) unique key (uk)
                    c) foriegn key key (fk)      


                   a)primary key : A pk never return a null value.
                                   A pk only defined once time in a table and a pk key should alway auto_increment.

                                   A pk key store a unique values 


                               contact
           contact_id(pk)   name     gender   email   mobile       message                

                    b) unique key (uk) : A UK is return at least one null value

                                          A uk is stored a null values but once time

                                           A uk is provides more than one columns 

                                           A uk key never stored repeated data or dublicate data.



                    examples how to set unique key 

                       ex: ALTER TABLE `flip_employee` ADD UNIQUE(`email`);   


                     c) foreign key : A fk key is used to provides relation between tables 

                                     A fk key is used to provides more than one times in a table 

                                     A fk is used to provides relationship with common field.


                            

                          flip_country

                 country_id(pk)     countryname

                     1                  india
 
                        flip_state

                 state_id(pk)      statename   country_id(fk)           
                     1             gujrat          1
                     2             up              1


                        flip_city

                 city_id             cityname     country_id(fk)   state_id(fk)

                   1                   rajkot         1              1
                   2                   ahemdabad      1              1
                   3                   varansi        1              2          
   



ex:  create table flip_state
(
 state_id int AUTO_INCREMENT primary key,
 statename varchar(255),
  country_id int REFERENCES flip_country(country_id)  
)  
 
                     


create table flip_city
(
 city_id int AUTO_INCREMENT primary key,
 cityname varchar(255),
 country_id int REFERENCES flip_country(country_id),  
 state_id int REFERENCES flip_state(state_id)  
   
)


           SQL joins : sql joins are used to joins more than one tables if data are matched from one table to another tables.          

                  types of joins :

                          a) inner join
                          b) join
                          c) outer join
                                   a)left join 
                                   b)right join 
                                   c)full join   
                          d) cross join



          a) inner join : inner join and join both are same and join more than one table with common field if data are matched join all data.

              syntax : select firsttablename.*,columnname from 1sttable inner join secondtablename on 1sttable.cominfield=2ndtable.comonfield;

                 examples :select flip_city.*,countryname from flip_city inner join flip_country on flip_city.country_id=flip_country.country_id;

          or

         select flip_city.*,countryname,statename from flip_city inner join flip_country on flip_city.country_id=flip_country.country_id inner join flip_state on flip_city.state_id=flip_state.state_id;


          or

select city_id,cityname,countryname,statename from flip_city inner join flip_country on flip_city.country_id=flip_country.country_id inner join flip_state on flip_city.state_id=flip_state.state_id;


  join : join and inner join both are same 


    select city_id,cityname,countryname,statename from flip_city  join flip_country on flip_city.country_id=flip_country.country_id  join flip_state on flip_city.state_id=flip_state.state_id;
  


      c) outer join : 

              a) left join 
                   left join are used to join from firsttable of left column with second table of left column if data are match join all data otherwise return null value.


              ex: 
    select city_id,cityname,countryname,statename from flip_city  left join flip_country on flip_city.country_id=flip_country.country_id  left join flip_state on flip_city.state_id=flip_state.state_id;
  

              b) right join 
                    
    right join are used to join from secondttable of right column matched  with first table of right column if data are match join all data otherwise return null value.


              ex: 
    select city_id,cityname,countryname,statename from flip_city  right join flip_country on flip_city.country_id=flip_country.country_id  right join flip_state on flip_city.state_id=flip_state.state_id;


           or


select username,password,countryname,statename,cityname from flip_user  right join flip_country on flip_user.country_id=flip_country.country_id  right join flip_state on flip_user.state_id=flip_state.state_id right join flip_city on flip_user.city_id=flip_city.city_id;
                 
              c)full  join   

                   full join =left join + right join 

                Note : mysql is not support



        d) cross join : 

               cross join is used to multiply each of rows and return matched data 

                  ex: select * from flip_user cross join flip_country;

            SQL functions :
                     there are two types of sql function 
                      a) aggrigate function
                             a)max
                             b)min 
                             c)avg 
                             d)count
                             e)sum  
                      b) scalar function
                             a)first 
                             b)last 
                             c)lcase 
                             d)ucase 


                    a)select max(salary) from flip_employee;
                    b)select min(salary) from flip_employee;
                    c)select avg(salary) from flip_employee;
                    d)select count(empid) from flip_employee;
                    e)select sum(salary) from flip_employee;

                     how to find second highest salary

select max(salary) from flip_employee where salary < (select max(salary) from flip_employee);


                   a)select first(empid) from flip_employee;
                   a)select last(empid) from flip_employee;
                   a)select lcase(empname) from flip_employee;
                   a)select ucase(empname) from flip_employee;




              SQL view :sql view are create a dublicate table or virtual table of main tables. 

                   types of views :

                          a) simple views (when we create a views on single column i.e called simple view)
                  ex:create view user_view as SELECT username from flip_user where user_id=1;

                  b) complex views :(when we create a views on multiple column i.e called complex view)

                   ex:  create view user_multi_view as SELECT user_id,username,password,country_id,state_id,city_id from flip_user; 

                
                 ex: DELETE from user_multi_view where username='brijesh';

                                             
              SQL indexer :   

                 sql indexer in not provides any output but indexer is used to improved speed or efficiency of table.

                  ex: create index flip_user_index on flip_user (user_id,username,password,country_id,state_id,city_id);



                                          
